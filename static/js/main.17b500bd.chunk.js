(this["webpackJsonpakhmedov-test"]=this["webpackJsonpakhmedov-test"]||[]).push([[0],{73:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n.n(a),i=n(10),o=n.n(i),s=(n(73),n(58)),l=n(16),u=n(119),d=n(123),j=n(124),b=function(){return Object(r.jsx)(u.a,{position:"static",children:Object(r.jsx)(d.a,{children:Object(r.jsx)(j.a,{variant:"h6",color:"inherit",children:"Weather-app by Namik Akhmedov"})})})},m=n(125),f=n(131),h=n(130),p=n(57),x=n.n(p),O=n(127),v=n(126),g=n(129),w=n(128),y=n(132);var k=function(e){var t=e.onUpdate;return Object(r.jsx)(y.a,{autoFocus:!0,label:"Enter location",onBlur:function(e){return t(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t(e.target.value)}})},N=n(30),S=n.n(N),C=n(40),B=n(134),D=n(55),F=n.n(D),I=function(){var e=Object(C.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("d42e812868b3c1c3fc4b6bd6bb86b9db","&units=metric"));case 3:if(200!==(n=e.sent).status){e.next=9;break}return e.next=7,n.json();case 7:return e.t0=e.sent,e.abrupt("return",{success:!0,data:e.t0});case 9:return e.abrupt("return",{success:!1,error:n.statusText});case 12:return e.prev=12,e.t1=e.catch(0),e.abrupt("return",{success:!1,error:e.t1.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),L=n(56),E=n.n(L),M=Object(m.a)({headerLine:{display:"flex",alignItems:"center"},location:{flex:1},detail:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},detailLine:{display:"flex",alignItems:"center",justifyContent:"center"},description:{flex:1},buttonBox:{marginTop:"20px"}}),T=function(e){var t=e.apiError;return t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(F.a,{color:"error"}),Object(r.jsx)(j.a,{color:"error",variant:"h6",children:t})]}):null},z=function(e){var t=e.weatherData,n=e.location,a=M(),i=function(){return I(n)},o=c.a.useMemo((function(){var e=t.weather||[],n=Object(l.a)(e,1)[0];return{country:t.sys.country?t.sys.country:"",temp:t.main.temp?Math.round(t.main.temp).toString():"",feelsLike:t.main.feels_like?Math.round(t.main.feels_like).toString():null,description:n?n.description:"",icon:n?"http://openweathermap.org/img/wn/".concat(n.icon,"@2x.png"):"",windTransform:t.wind?t.wind.deg-90:null,windSpeed:t.wind?Math.round(t.wind.speed):0}}),[t]),s=o.country,u=o.temp,d=o.description,b=o.icon,m=o.windTransform,f=o.windSpeed,h=o.feelsLike;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(j.a,{variant:"h6",children:["country: ",s]}),Object(r.jsxs)(j.a,{variant:"h6",children:["temp: ",u,"\xb0C"]}),Object(r.jsxs)(j.a,{variant:"h6",children:["feels like: ",h,"\xb0C"]}),Object(r.jsx)(B.a,{className:a.largeAvatar,src:b})," ",Object(r.jsx)(j.a,{variant:"h6",children:d}),Object(r.jsxs)(j.a,{variant:"h6",children:["wind: ","".concat(f," km/h")]}),Object(r.jsx)(E.a,{style:{transform:"rotateZ(".concat(m,"deg)")}}),Object(r.jsx)(v.a,{onClick:function(){return i},className:a.buttonBox,variant:"outlined",size:"small",color:"primary",children:"Update"})]})},A=function(e){var t=e.weatherData,n=M(),a=c.a.useMemo((function(){var e=t.weather||[],n=Object(l.a)(e,1)[0];return{temp:t.main&&t.main.temp?Math.round(t.main.temp):"",icon:n?"http://openweathermap.org/img/wn/".concat(n.icon,"@2x.png"):""}}),[t]),i=a.temp,o=a.icon;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(j.a,{variant:"h6",children:[i,"\xb0C"]}),o&&Object(r.jsx)(B.a,{className:n.largeAvatar,src:o})]})},U=function(e){var t=e.location,n=e.isBtn,a=M(),i=c.a.useState({}),o=Object(l.a)(i,2),s=o[0],u=o[1],d=c.a.useState(""),b=Object(l.a)(d,2),m=b[0],f=b[1];return c.a.useEffect((function(){(function(){var e=Object(C.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:n=e.sent,u(n.success?n.data:{}),f(n.success?"":n.error);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:a.headerLine,children:Object(r.jsx)(j.a,{className:a.location,variant:"h5",children:t})}),Object(r.jsxs)("div",{className:a.detailLine,children:[Object(r.jsx)(T,{apiError:m}),n?null:Object(r.jsx)(A,{weatherData:s})]}),Object(r.jsx)("div",{className:a.detail,children:n?Object(r.jsx)(z,{weatherData:s,location:t}):null})]})},J=Object(m.a)((function(){return{root:{display:"flex",flexDirection:"column"},buttonBox:{display:"flex",justifyContent:"space-between",alignItems:"center"},button:{outline:"none",background:"none",border:"none",cursor:"pointer",color:"#3f51b5",fontSize:"0.8125rem"},content:{flex:1}}})),G=function(e){var t=e.location,n=e.onDelete,a=e.onUpdate,i=J(),o=c.a.useState(!1),s=Object(l.a)(o,2),u=s[0],d=s[1],j=function(){return d(!u)};return Object(r.jsxs)(O.a,{className:i.root,variant:"outlined",children:[Object(r.jsxs)(w.a,{className:i.content,children:[!t&&Object(r.jsx)(k,{onUpdate:a}),t&&Object(r.jsx)(U,{location:t,isBtn:u})]}),Object(r.jsxs)(g.a,{className:i.buttonBox,children:[Object(r.jsx)(v.a,{onClick:n,size:"small",color:"primary",children:"Remove"}),u?Object(r.jsx)(v.a,{onClick:j,size:"small",color:"primary",children:"BACK"}):Object(r.jsx)(v.a,{onClick:j,variant:"outlined",size:"small",color:"primary",children:"MORE DETAILS"})]})]})},K=Object(m.a)((function(){return{root:{flexGrow:1,display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},containerGrid:{flex:1,overflowY:"auto",padding:"2em"},addButton:{position:"absolute",margin:"1em",bottom:"92.5%",left:"20%"}}})),P="locations",R=function(){var e=K(),t=c.a.useState(function(){var e=localStorage.getItem(P);return e?JSON.parse(e):[]}()),n=Object(l.a)(t,2),a=n[0],i=n[1],o=function(e){i(e),function(e){localStorage.setItem(P,JSON.stringify(e))}(e)},u=function(e){return function(){return o(a.filter((function(t,n){return n!==e})))}},d=function(e){return function(t){return o(a.map((function(n,r){return r===e?t:n})))}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(b,{}),Object(r.jsx)("div",{className:e.root,children:Object(r.jsx)(h.a,{container:!0,spacing:3,className:e.containerGrid,children:a.map((function(e,t){return Object(r.jsx)(h.a,{xs:12,sm:6,md:4,lg:3,item:!0,children:Object(r.jsx)(G,{location:e,onDelete:u(t),onUpdate:d(t)})},e)}))})}),Object(r.jsx)(f.a,{onClick:function(){return i([].concat(Object(s.a)(a),[""]))},"aria-label":"add weather location",className:e.addButton,color:"secondary",children:Object(r.jsx)(x.a,{})})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root")),_()}},[[81,1,2]]]);
//# sourceMappingURL=main.17b500bd.chunk.js.map