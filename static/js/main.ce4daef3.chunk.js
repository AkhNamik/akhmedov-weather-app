(this["webpackJsonpakhmedov-test"]=this["webpackJsonpakhmedov-test"]||[]).push([[0],{80:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n.n(a),i=n(10),o=n.n(i),s=(n(80),n(65)),l=n(22),u=n(130),d=n(134),j=n(135),b=function(){return Object(r.jsx)(u.a,{position:"static",children:Object(r.jsx)(d.a,{children:Object(r.jsx)(j.a,{variant:"h6",color:"inherit",children:"Weather-app by Namik Akhmedov"})})})},h=n(136),m=n(52),p=n(11),f=n(142),x=n(141),O=n(64),v=n.n(O),g=n(138),w=n(137),y=n(140),k=n(139),N=n(143);var S=function(e){var t=e.onUpdate;return Object(r.jsx)(N.a,{autoFocus:!0,label:"Enter location",onBlur:function(e){return t(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t(e.target.value)}})},C=n(34),B=n.n(C),D=n(45),F=n(145),I=n(62),L=n.n(I),E=function(){var e=Object(D.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("d42e812868b3c1c3fc4b6bd6bb86b9db","&units=metric"));case 3:if(200!==(n=e.sent).status){e.next=9;break}return e.next=7,n.json();case 7:return e.t0=e.sent,e.abrupt("return",{success:!0,data:e.t0});case 9:return e.abrupt("return",{success:!1,error:n.statusText});case 12:return e.prev=12,e.t1=e.catch(0),e.abrupt("return",{success:!1,error:e.t1.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),M=n(63),T=n.n(M),z=Object(h.a)({headerLine:{display:"flex",alignItems:"center"},location:{flex:1},detail:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},detailLine:{display:"flex",alignItems:"center",justifyContent:"center"},description:{flex:1},buttonBox:{marginTop:"20px"}}),A=function(e){var t=e.apiError;return t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L.a,{color:"error"}),Object(r.jsx)(j.a,{color:"error",variant:"h6",children:t})]}):null},U=function(e){var t=e.weatherData,n=e.location,a=z(),i=function(){return E(n)},o=c.a.useMemo((function(){var e=t.weather||[],n=Object(l.a)(e,1)[0];return{country:t.sys.country?t.sys.country:"",temp:t.main.temp?Math.round(t.main.temp).toString():"",feelsLike:t.main.feels_like?Math.round(t.main.feels_like).toString():null,description:n?n.description:"",icon:n?"http://openweathermap.org/img/wn/".concat(n.icon,"@2x.png"):"",windTransform:t.wind?t.wind.deg-90:null,windSpeed:t.wind?Math.round(t.wind.speed):0}}),[t]),s=o.country,u=o.temp,d=o.description,b=o.icon,h=o.windTransform,m=o.windSpeed,p=o.feelsLike;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(j.a,{variant:"h6",children:["country: ",s]}),Object(r.jsxs)(j.a,{variant:"h6",children:["temp: ",u,"\xb0C"]}),Object(r.jsxs)(j.a,{variant:"h6",children:["feels like: ",p,"\xb0C"]}),Object(r.jsx)(F.a,{className:a.largeAvatar,src:b})," ",Object(r.jsx)(j.a,{variant:"h6",children:d}),Object(r.jsxs)(j.a,{variant:"h6",children:["wind: ","".concat(m," km/h")]}),Object(r.jsx)(T.a,{style:{transform:"rotateZ(".concat(h,"deg)")}}),Object(r.jsx)(w.a,{onClick:function(){return i},className:a.buttonBox,variant:"outlined",size:"small",color:"primary",children:"Update"})]})},J=function(e){var t=e.weatherData,n=z(),a=c.a.useMemo((function(){var e=t.weather||[],n=Object(l.a)(e,1)[0];return{temp:t.main&&t.main.temp?Math.round(t.main.temp):"",icon:n?"http://openweathermap.org/img/wn/".concat(n.icon,"@2x.png"):""}}),[t]),i=a.temp,o=a.icon;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(j.a,{variant:"h6",children:[i,"\xb0C"]}),o&&Object(r.jsx)(F.a,{className:n.largeAvatar,src:o})]})},G=function(e){var t=e.location,n=e.isBtn,a=z(),i=c.a.useState({}),o=Object(l.a)(i,2),s=o[0],u=o[1],d=c.a.useState(""),b=Object(l.a)(d,2),h=b[0],m=b[1];return c.a.useEffect((function(){(function(){var e=Object(D.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:n=e.sent,u(n.success?n.data:{}),m(n.success?"":n.error);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:a.headerLine,children:Object(r.jsx)(j.a,{className:a.location,variant:"h5",children:t})}),Object(r.jsxs)("div",{className:a.detailLine,children:[Object(r.jsx)(A,{apiError:h}),n?null:Object(r.jsx)(J,{weatherData:s})]}),Object(r.jsx)("div",{className:a.detail,children:n?Object(r.jsx)(U,{weatherData:s,location:t}):null})]})},K=Object(h.a)((function(){return{root:{display:"flex",flexDirection:"column"},buttonBox:{display:"flex",justifyContent:"space-between",alignItems:"center"},button:{outline:"none",background:"none",border:"none",cursor:"pointer",color:"#3f51b5",fontSize:"0.8125rem"},content:{flex:1}}})),P=function(e){var t=e.location,n=e.onDelete,a=e.onUpdate,i=K(),o=c.a.useState(!1),s=Object(l.a)(o,2),u=s[0],d=s[1],j=function(){return d(!u)};return Object(r.jsxs)(g.a,{className:i.root,variant:"outlined",children:[Object(r.jsxs)(k.a,{className:i.content,children:[!t&&Object(r.jsx)(S,{onUpdate:a}),t&&Object(r.jsx)(G,{location:t,isBtn:u})]}),Object(r.jsxs)(y.a,{className:i.buttonBox,children:[Object(r.jsx)(w.a,{onClick:n,size:"small",color:"primary",children:"Remove"}),u?Object(r.jsx)(w.a,{onClick:j,size:"small",color:"primary",children:"BACK"}):Object(r.jsx)(w.a,{onClick:j,variant:"outlined",size:"small",color:"primary",children:"MORE DETAILS"})]})]})},R=Object(h.a)((function(){return{root:{flexGrow:1,display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},containerGrid:{flex:1,overflowY:"auto",padding:"2em"},addButton:{position:"absolute",margin:"1em",bottom:"92.5%",left:"20%"}}})),_="locations",q=function e(){var t=R(),n=c.a.useState(function(){var e=localStorage.getItem(_);return e?JSON.parse(e):[]}()),a=Object(l.a)(n,2),i=a[0],o=a[1],u=function(e){o(e),function(e){localStorage.setItem(_,JSON.stringify(e))}(e)},d=function(e){return function(){return u(i.filter((function(t,n){return n!==e})))}},j=function(e){return function(t){return u(i.map((function(n,r){return r===e?t:n})))}};return Object(r.jsxs)(m.a,{children:[Object(r.jsx)(b,{}),Object(r.jsx)(p.c,{children:Object(r.jsx)(p.a,{path:"/homepage",components:e,children:Object(r.jsx)("div",{className:t.root,children:Object(r.jsx)(x.a,{container:!0,spacing:3,className:t.containerGrid,children:i.map((function(e,t){return Object(r.jsx)(x.a,{xs:12,sm:6,md:4,lg:3,item:!0,children:Object(r.jsx)(P,{location:e,onDelete:d(t),onUpdate:j(t)})},e)}))})})})}),Object(r.jsx)(m.b,{to:"/homepage",children:Object(r.jsx)(f.a,{onClick:function(){return o([].concat(Object(s.a)(i),[""]))},"aria-label":"add weather location",className:t.addButton,color:"secondary",children:Object(r.jsx)(v.a,{})})})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(q,{})}),document.getElementById("root")),W()}},[[92,1,2]]]);
//# sourceMappingURL=main.ce4daef3.chunk.js.map